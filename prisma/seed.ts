import { PrismaClient, EnumOrderStatus } from "@prisma/client";
import { hash } from "argon2";

const prisma = new PrismaClient();

// –≥–µ–Ω—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
async function up() {
  console.log("üå± –°–∏–¥–∏–Ω–≥ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...");

  // 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
  const user = await prisma.user.create({
    data: {
      email: "danila@mail.ru",
      password: await hash("Qwerty1234"),
      name: "–î–∞–Ω–∏–ª–∞ –ì–æ—Å—É–¥–∞—Ä–µ–≤"
    }
  });

  // 2. –î–≤–∞ –º–∞–≥–∞–∑–∏–Ω–∞ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  const store1 = await prisma.store.create({
    data: {
      title: "5opka",
      description: "–ú–µ—Ä—á —Å—Ç—Ä–∏–º–µ—Ä–∞ –∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è 5opka.",
      userId: user.id
    }
  });

  const store2 = await prisma.store.create({
    data: {
      title: "MellSher",
      description: "–ú–µ—Ä—á —Å—Ç—Ä–∏–º–µ—Ä–∞ –∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è MellSher.",
      userId: user.id
    }
  });

  // 3. –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
  await prisma.category.createMany({
    data: [
      {
        id: "1",
        title: "–§—É—Ç–±–æ–ª–∫–∏",
        description: "–§—É—Ç–±–æ–ª–∫–∏ –º–µ—Ä—á 5opka",
        storeId: store1.id
      },
      {
        id: "2",
        title: "–•—É–¥–∏",
        description: "–•—É–¥–∏ –º–µ—Ä—á 5opka",
        storeId: store1.id
      },
      {
        id: "3",
        title: "–°–≤–∏—Ç—à–æ—Ç—ã",
        description: "–°–≤–∏—Ç—à–æ—Ç—ã –º–µ—Ä—á 5opka",
        storeId: store1.id
      },
      {
        id: "4",
        title: "–§—É—Ç–±–æ–ª–∫–∏",
        description: "–§—É—Ç–±–æ–ª–∫–∏ –º–µ—Ä—á MellSher",
        storeId: store2.id
      },
      {
        id: "5",
        title: "–•—É–¥–∏",
        description: "–•—É–¥–∏ –º–µ—Ä—á MellSher",
        storeId: store2.id
      },
      {
        id: "6",
        title: "–°–≤–∏—Ç—à–æ—Ç—ã",
        description: "–°–≤–∏—Ç—à–æ—Ç—ã –º–µ—Ä—á MellSher",
        storeId: store2.id
      }
    ]
  });

  // 4. –¶–≤–µ—Ç–∞
  await prisma.color.createMany({
    data: [
      {
        id: "1",
        name: "–ß—ë—Ä–Ω—ã–π",
        value: "#000000",
        storeId: store1.id
      },
      {
        id: "2",
        name: "–ö–æ—Ä–∏—á–Ω–µ–≤—ã–π",
        value: "#331a00",
        storeId: store1.id
      },
      {
        id: "3",
        name: "–ë–µ–ª—ã–π",
        value: "#ffffff",
        storeId: store1.id
      },
      {
        id: "4",
        name: "–°–µ—Ä—ã–π",
        value: "#808080",
        storeId: store1.id
      },
      {
        id: "5",
        name: "–ß—ë—Ä–Ω—ã–π",
        value: "#000000",
        storeId: store2.id
      },
      {
        id: "6",
        name: "–ë–µ–ª—ã–π",
        value: "#ffffff",
        storeId: store2.id
      }
    ]
  });

  // 5. –¢–æ–≤–∞—Ä—ã
  await prisma.product.createMany({
    data: [
      {
        id: "1",
        title: "42 –±—Ä–∞—Ç—É—Ö–∞ v2",
        description: `–ú–∞—Ç–µ—Ä–∏–∞–ª: 2—Ö –Ω–∏—Ç–∫–∞ –ø–µ–Ω—å–µ 240 –≥—Ä/–º¬≤
–°–æ—Å—Ç–∞–≤: 95% —Ö–ª–æ–ø–æ–∫ 5% –ª–∞–π–∫—Ä–∞
–ù–∞–Ω–µ—Å–µ–Ω–∏–µ: –®–µ–ª–∫–æ–≥—Ä–∞—Ñ–∏—è
–ö—Ä–æ–π: –û–≤–µ—Ä—Å–∞–π–∑
–†–æ—Å—Ç –º–æ–¥–µ–ª–µ–π: 183/160
–†–∞–∑–º–µ—Ä –Ω–∞ –º–æ–¥–µ–ª—è—Ö: M/S

–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏ —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞–∫–∞–∑–∞`,
        price: 3000,
        images: [
          "/uploads/products/kf4fh8laqj3j5nc8dbr5b96d.webp",
          "/uploads/products/i26a30kxxqlmkigypvnpum3l.webp",
          "/uploads/products/j8b226s06isgsj6wfihs51wd.webp"
        ],
        categoryId: "1",
        colorId: "1",
        storeId: store1.id,
        userId: user.id
      },
      {
        id: "2",
        title: "42 –±—Ä–∞—Ç—É—Ö–∞ v2 –≤–∞—Ä—ë–Ω–∞—è",
        description: `–ú–∞—Ç–µ—Ä–∏–∞–ª: 2—Ö –Ω–∏—Ç–∫–∞ –ø–µ–Ω—å–µ 240 –≥—Ä/–º¬≤
–°–æ—Å—Ç–∞–≤: 95% —Ö–ª–æ–ø–æ–∫ 5% –ª–∞–π–∫—Ä–∞
–ù–∞–Ω–µ—Å–µ–Ω–∏–µ: –®–µ–ª–∫–æ–≥—Ä–∞—Ñ–∏—è
–ö—Ä–æ–π: –û–≤–µ—Ä—Å–∞–π–∑
–û–∫—Ä–∞—à–µ–Ω–æ –º–µ—Ç–æ–¥–æ–º Garment Dye
–†–æ—Å—Ç –º–æ–¥–µ–ª–µ–π: 183/160
–†–∞–∑–º–µ—Ä –Ω–∞ –º–æ–¥–µ–ª—è—Ö: M/S

–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏ —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞–∫–∞–∑–∞`,
        price: 3500,
        images: [
          "/uploads/products/a8weabhy5ka23lbnw7dcklug.webp",
          "/uploads/products/a8weabhy5ka23lbnw7dcklug2.webp",
          "/uploads/products/hurgchlmu24bi6pthp1qxhqz.webp"
        ],
        categoryId: "1",
        colorId: "2",
        storeId: store1.id,
        userId: user.id
      },
      {
        id: "3",
        title: "–ê–Ω–≥–µ–ª",
        description: `–ú–∞—Ç–µ—Ä–∏–∞–ª: 2—Ö –Ω–∏—Ç–∫–∞ –ø–µ–Ω—å–µ 240 –≥—Ä/–º¬≤
–°–æ—Å—Ç–∞–≤: 95% —Ö–ª–æ–ø–æ–∫ 5% –ª–∞–π–∫—Ä–∞
–ù–∞–Ω–µ—Å–µ–Ω–∏–µ: –®–µ–ª–∫–æ–≥—Ä–∞—Ñ–∏—è
–ö—Ä–æ–π: –û–≤–µ—Ä—Å–∞–π–∑
–†–æ—Å—Ç –º–æ–¥–µ–ª–µ–π: 183/160
–†–∞–∑–º–µ—Ä –Ω–∞ –º–æ–¥–µ–ª—è—Ö: M/S

–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏ —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞–∫–∞–∑–∞`,
        price: 3200,
        images: [
          "/uploads/products/pas9m9q8k0x09v2fxzwy6uoi.webp",
          "/uploads/products/ccxly98zqf5qb5j37p9rexbt.webp",
          "/uploads/products/ccxly98zqf5qb5j37p9rexbt.webp"
        ],
        categoryId: "4",
        colorId: "6",
        storeId: store2.id,
        userId: user.id
      },
      {
        id: "4",
        title: "–î–µ–º–æ–Ω",
        description: `–ú–∞—Ç–µ—Ä–∏–∞–ª: 2—Ö –Ω–∏—Ç–∫–∞ –ø–µ–Ω—å–µ 240 –≥—Ä/–º¬≤
–°–æ—Å—Ç–∞–≤: 95% —Ö–ª–æ–ø–æ–∫ 5% –ª–∞–π–∫—Ä–∞
–ù–∞–Ω–µ—Å–µ–Ω–∏–µ: –®–µ–ª–∫–æ–≥—Ä–∞—Ñ–∏—è
–ö—Ä–æ–π: –û–≤–µ—Ä—Å–∞–π–∑
–†–æ—Å—Ç –º–æ–¥–µ–ª–µ–π: 183/160
–†–∞–∑–º–µ—Ä –Ω–∞ –º–æ–¥–µ–ª—è—Ö: M/S

–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏ —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞–∫–∞–∑–∞`,
        price: 3100,
        images: [
          "/uploads/products/sb19mfjhi8ddhgsmbgusy8p6.webp",
          "/uploads/products/ksqqkuot4bz9yyd0ysekom9o.webp",
          "/uploads/products/t7g7j21gixzrx3ojkj3xkhl2.webp"
        ],
        categoryId: "4",
        colorId: "5",
        storeId: store2.id
      },
      {
        id: "5",
        title: "–û—Ç—Å–æ",
        description: `–ú–∞—Ç–µ—Ä–∏–∞–ª: —Ñ—É—Ç–µ—Ä 3—Ö –Ω–∏—Ç–∫–∞ 330 –≥—Ä/–º¬≤
–°–æ—Å—Ç–∞–≤: 80% —Ö–ª–æ–ø–æ–∫ 20% –ø–æ–ª–∏—ç—Å—Ç–µ—Ä
–ü–µ—á–∞—Ç—å: –®–µ–ª–∫–æ–≥—Ä–∞—Ñ–∏—è–ö—Ä–æ–π: –û–≤–µ—Ä—Å–∞–π–∑

–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏ —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞–∫–∞–∑–∞`,
        price: 5000,
        images: [
          "/uploads/products/b0i8af2i87ahhgflerc536n3.webp",
          "/uploads/products/cq2a6u6w5xxy6z6sypia3yx0.webp",
          "/uploads/products/ywt67xma5ian3u7sm4lxktsl.webp"
        ],
        categoryId: "2",
        colorId: "4",
        storeId: store1.id
      },
      {
        id: "6",
        title: "–û—Ç—Å–æ",
        description: `–ú–∞—Ç–µ—Ä–∏–∞–ª: —Ñ—É—Ç–µ—Ä 3—Ö –Ω–∏—Ç–∫–∞ 330 –≥—Ä/–º¬≤
–°–æ—Å—Ç–∞–≤: 80% —Ö–ª–æ–ø–æ–∫ 20% –ø–æ–ª–∏—ç—Å—Ç–µ—Ä
–ü–µ—á–∞—Ç—å: –®–µ–ª–∫–æ–≥—Ä–∞—Ñ–∏—è–ö—Ä–æ–π: –û–≤–µ—Ä—Å–∞–π–∑

–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏ —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞–∫–∞–∑–∞`,
        price: 3900,
        images: [
          "/uploads/products/u84y7wlv8mijfvgzvjjo3kjr.webp",
          "/uploads/products/ehq063g3jgpbhlrxf86ab02c.webp",
          "/uploads/products/aw9627j34w0xiqtpy4ggtjem.webp"
        ],
        categoryId: "3",
        colorId: "4",
        storeId: store1.id
      },
      {
        id: "7",
        title: "–ú–Ω–µ —Ö–æ—Ä–æ—à–æ",
        description: `–ú–∞—Ç–µ—Ä–∏–∞–ª: 2—Ö –Ω–∏—Ç–∫–∞ –ø–µ–Ω—å–µ 240 –≥—Ä/–º¬≤
–°–æ—Å—Ç–∞–≤: 95% —Ö–ª–æ–ø–æ–∫ 5% –ª–∞–π–∫—Ä–∞
–ü–µ—á–∞—Ç—å: –í—ã—à–∏–≤–∫–∞
–ö—Ä–æ–π: –û–≤–µ—Ä—Å–∞–π–∑

–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏ —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞–∫–∞–∑–∞`,
        price: 3200,
        images: [
          "/uploads/products/u84y7wlv8mijfvgzvjjo3kjr.webp",
          "/uploads/products/ehq063g3jgpbhlrxf86ab02c.webp",
          "/uploads/products/aw9627j34w0xiqtpy4ggtjem.webp"
        ],
        categoryId: "4",
        colorId: "5",
        storeId: store2.id
      },
      {
        id: "8",
        title: "–ì–æ–ª–æ–≤–∞",
        description: `–ú–∞—Ç–µ—Ä–∏–∞–ª: 2—Ö –Ω–∏—Ç–∫–∞ –ø–µ–Ω—å–µ 240 –≥—Ä/–º¬≤
–°–æ—Å—Ç–∞–≤: 95% —Ö–ª–æ–ø–æ–∫ 5% –ª–∞–π–∫—Ä–∞
–ü–µ—á–∞—Ç—å: –ü—Ä—è–º–∞—è –ø–µ—á–∞—Ç—å
–ö—Ä–æ–π: –û–≤–µ—Ä—Å–∞–π–∑

–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏ —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞–∫–∞–∑–∞`,
        price: 3600,
        images: [
          "/uploads/products/xgpue4k57pvyvwcit2ya2fsv.webp",
          "/uploads/products/sd9d6i06p6eylwcpqadge1d2.webp",
          "/uploads/products/v1zvoe5my0syakdmlomkfqcl.webp"
        ],
        categoryId: "1",
        colorId: "3",
        storeId: store1.id,
        userId: user.id
      },
      {
        id: "9",
        title: "–≠—Ç–∞–ø—ã –∏–¥–µ–∞–ª—å–Ω—ã—Ö —Ä–∞–∑—Ä—É—à–µ–Ω–∏–π",
        description: `–ú–∞—Ç–µ—Ä–∏–∞–ª: 2—Ö –Ω–∏—Ç–∫–∞ –ø–µ–Ω—å–µ 240 –≥—Ä/–º¬≤
–°–æ—Å—Ç–∞–≤: 95% —Ö–ª–æ–ø–æ–∫ 5% –ª–∞–π–∫—Ä–∞
–ü–µ—á–∞—Ç—å: –ü—Ä—è–º–∞—è –ø–µ—á–∞—Ç—å
–ö—Ä–æ–π: –û–≤–µ—Ä—Å–∞–π–∑

–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏ —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞–∫–∞–∑–∞`,
        price: 3000,
        images: [
          "/uploads/products/es2j05j4kbxj8bm30flyt9hm.webp",
          "/uploads/products/pqp5r9oalh1tkxj4ibkwmb50.webp"
        ],
        categoryId: "4",
        colorId: "5",
        storeId: store2.id
      },
      {
        id: "10",
        title: "–ú—É–∂—å—è –Ω–∞ —á–∞—Å",
        description: `–ú–∞—Ç–µ—Ä–∏–∞–ª: 2—Ö –Ω–∏—Ç–∫–∞ –ø–µ–Ω—å–µ 240 –≥—Ä/–º¬≤
–°–æ—Å—Ç–∞–≤: 95% —Ö–ª–æ–ø–æ–∫ 5% –ª–∞–π–∫—Ä–∞
–ü–µ—á–∞—Ç—å: –ü—Ä—è–º–∞—è –ø–µ—á–∞—Ç—å
–ö—Ä–æ–π: –û–≤–µ—Ä—Å–∞–π–∑

–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏ —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞–∫–∞–∑–∞`,
        price: 2400,
        images: ["/uploads/products/htfnd5wl0crr1mf13azsvnx0.webp"],
        categoryId: "4",
        colorId: "5",
        storeId: store2.id
      }
    ]
  });

  // 6. –û—Ç–∑—ã–≤—ã
  await prisma.review.createMany({
    data: [
      {
        text: "–°–ø–∞—Å–∏–±–æ! –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Ñ—É—Ç–±–æ–ª–∫–∞! )))",
        rating: 5,
        userId: user.id,
        productId: "1",
        storeId: store1.id
      },
      {
        text: "–û—á–µ–Ω—å –∫—Ä—É—Ç–æ!!!",
        rating: 5,
        userId: user.id,
        productId: "3",
        storeId: store2.id
      },
      {
        text: "–°—ã–Ω—É –æ—á–µ–Ω—å –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å)",
        rating: 5,
        userId: user.id,
        productId: "7",
        storeId: store2.id
      },
      {
        text: "–ù–∏—Ç–∫–∞ —Ç–æ—Ä—á–∞–ª–∞!!! –ù–æ —Ç–∞–∫ –Ω–æ—Ä–º)))",
        rating: 4,
        userId: user.id,
        productId: "6",
        storeId: store1.id
      },
      {
        text: "–ü—Ä–∏—à–ª–∞ –¥—Ä—É–≥–∞—è —Ñ—É—Ç–±–æ–ª–∫–∞(((",
        rating: 2,
        userId: user.id,
        productId: "10",
        storeId: store2.id
      },
      {
        text: "–°–ø–∞—Å–∏–±–æ, –Ω–æ —Ü–≤–µ—Ç –ø—Ä–∏—à–µ–ª –¥—Ä—É–≥–æ–π, –Ω–µ —Ç–æ—Ç –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—Ç–µ–ª ;(",
        rating: 4,
        userId: user.id,
        productId: "1",
        storeId: store1.id
      }
    ]
  });

  // 7. –ó–∞–∫–∞–∑—ã
  await prisma.order.createMany({
    data: [
      {
        id: "1",
        status: EnumOrderStatus.PAYED,
        total: 6000,
        userId: user.id
      },
      {
        id: "2",
        status: EnumOrderStatus.PAYED,
        total: 3200,
        userId: user.id
      },
      {
        id: "3",
        status: EnumOrderStatus.PAYED,
        total: 6000,
        userId: user.id
      },
      {
        id: "4",
        status: EnumOrderStatus.PAYED,
        total: 7100,
        userId: user.id
      }
    ]
  });

  await prisma.orderItem.createMany({
    data: [
      {
        quantity: 2,
        price: 3000,
        orderId: "1",
        productId: "1",
        storeId: store1.id
      },
      {
        quantity: 1,
        price: 3200,
        orderId: "2",
        productId: "3",
        storeId: store2.id
      },
      {
        quantity: 1,
        price: 3600,
        orderId: "3",
        productId: "8",
        storeId: store1.id
      },
      {
        quantity: 1,
        price: 2400,
        orderId: "3",
        productId: "10",
        storeId: store2.id
      },
      {
        quantity: 1,
        price: 3900,
        orderId: "4",
        productId: "6",
        storeId: store1.id
      },
      {
        quantity: 1,
        price: 3200,
        orderId: "4",
        productId: "7",
        storeId: store2.id
      }
    ]
  });

  console.log("‚úÖ –°–∏–¥–∏–Ω–≥ –∑–∞–≤–µ—Ä—à—ë–Ω!");
}

// —É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
async function down() {
  await prisma.$executeRaw`TRUNCATE TABLE "user" RESTART IDENTITY CASCADE`;
  await prisma.$executeRaw`TRUNCATE TABLE "store" RESTART IDENTITY CASCADE`;
  await prisma.$executeRaw`TRUNCATE TABLE "product" RESTART IDENTITY CASCADE`;
  await prisma.$executeRaw`TRUNCATE TABLE "category" RESTART IDENTITY CASCADE`;
  await prisma.$executeRaw`TRUNCATE TABLE "color" RESTART IDENTITY CASCADE`;
  await prisma.$executeRaw`TRUNCATE TABLE "review" RESTART IDENTITY CASCADE`;
  await prisma.$executeRaw`TRUNCATE TABLE "order" RESTART IDENTITY CASCADE`;
  await prisma.$executeRaw`TRUNCATE TABLE "order_item" RESTART IDENTITY CASCADE`;
}

async function main() {
  try {
    await down();
    await up();
  } catch (e) {
    console.error(e);
  }
}

main()
  .then(async () => {
    await prisma.$disconnect();
  })
  .catch(async (e) => {
    console.error(e);
    await prisma.$disconnect();
    process.exit(1);
  });
